% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vol_ung2013.R
\name{vol_ung2013}
\alias{vol_ung2013}
\title{Canadian national taper volume model (Ung et al. 2013)}
\usage{
vol_ung2013(DBH, height = NULL, species, jurisdiction)
}
\arguments{
\item{DBH}{Numeric vector of diameter at breast height (cm).}

\item{height}{Optional numeric vector of total height (m). If `NULL` (default) or all `NA`,
the DBH-only model is used.}

\item{species}{Character vector of species codes (e.g., "PICE.GLA").}

\item{jurisdiction}{Character vector of jurisdiction codes (e.g., "BC", "ON"). Required to assign jurisdiction-specific merchantability criteria}
}
\value{
A tibble with columns `vol_merchantable` and `vol_total` (m^3).
}
\description{
Uses the national Ung et al. (2013) taper model to estimate total and merchantable
volume. If `height` is not provided (or is all `NA`), the DBH-only variant is used.
If `height` is provided, the DBH+height variant is used.
}
\examples{
# --- DBH-only model (height not provided) ---
vol_ung2013(
  DBH = c(20, 30, 40),
  species = c("PICE.GLA", "ABIE.BAL", "PICE.GLA"),
  jurisdiction = "ON"
)

# --- DBH + height model ---
vol_ung2013(
  DBH = c(20, 30, 40),
  height = c(18, 24, 30),
  species = c("PICE.GLA", "ABIE.BAL", "PICE.GLA"),
  jurisdiction = "ON"
)

# --- Vector recycling (common in dplyr pipelines) ---
vol_ung2013(
  DBH = c(25, 35),
  height = 22,
  species = "PICE.GLA",
  jurisdiction = "QC"
)

# --- Using inside mutate(): DBH-only fallback ---
trees <- tibble::tibble(
  DBH = c(22, 30, 18),
  species = c("PICE.GLA", "PICE.GLA", "ABIE.BAL")
)

trees |>
  dplyr::mutate(
    vol = vol_ung2013(DBH, species = species, jurisdiction = "NB")
  ) |>
tidyr::unnest(vol)

}
\references{
Ung, C.H., Guo, X.J., Fortin, M. (2013). Canadian national taper models.
Forestry Chronicle 89, 211â€“224. https://doi.org/10.5558/tfc2013-040
}
